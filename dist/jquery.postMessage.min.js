!function(e,r){var n=1,t=!!e.postMessage;function o(e){return e.replace(/([^:]+:\/\/[^\/]+).*/,"$1")}function i(e,r){if("string"==typeof r)return":"+r;if(e===r)throw new Error("Trying to postMessage to self. Pointlessly useless.");if(e.parent&&e.parent!==e&&e.parent===r)return"p";if(e.opener&&e.opener!==e&&e.opener===r)return"o";var n=function e(r,n,t){var o,i;if(void 0===t&&(t=0),r.frames)try{for(o=0;o<r.frames.length;o++)try{if(r.frames[o]===n)return"f,"+o}catch(e){if(-2147024891!==e.number)throw e}}catch(e){if(-2146823279!==e.number)throw e}if(r.parent&&r.parent===n)return"p";if(r.opener&&r.opener===n)return"o";if(t>=4)return!1;if(r.frames&&r.frames.length>0)for(o=0;o<r.frames.length;o++)if(i=e(r.frames[o],n,t+1))return"f,"+o+"."+i;return r.parent&&r.parent!==r&&(i=e(r.parent,n,t+1))?"p."+i:!(!r.opener||r.opener===r||!(i=e(r.opener,n,t+1)))&&"o"+i}(e,r);if(n)return n;throw new Error("Couldn't serialize window reference")}r.postMessage=function(s,f,u,g){if(!f)throw new Error("targetHost argument was not supplied to jQuery.postMessage");if(!u)throw new Error("No targetWindow specified");if(f=o(f),t)try{return void u.postMessage(s,f)}catch(e){if(-2147467262!=e.number)throw e}try{var p=u.__receiveMessageHook;if(p)return void p(s,f)}catch(e){}var c=i(e,g||u),l=o(document.location.href),d=document.createElement("iframe");if(!f||"*"==f)throw new Error("$.postMessage(): Must specify targetHost on browsers that don't support postMessage natively (cannot be '*').");r("body").append(r(d).hide().attr("src",f+a()+"#"+ +new Date+n+"&"+c+"&"+l+"&"+encodeURIComponent(s)).load(function(){r(d).remove()})),n++},r.receiveMessage=function(n,t){if(!n)throw new Error("No callback function specified");t||(t="*"),r(e).on("message",function(e,o,i){return o||(o=e.originalEvent?e.originalEvent.data:e.data),i||(i=e.originalEvent?e.originalEvent.origin:e.origin),a=t,s=e.originalEvent?e.originalEvent.origin:i,!("string"==typeof a&&s!==a&&"*"!==a||r.isFunction(a)&&!a(s))&&n({data:o,origin:i});var a,s})},e.__receiveMessageHook=function(n,t){var o=new r.Event("message");o.data=n,o.origin=t,r(e).trigger(o,[o.data,o.origin])},r.fn.postMessage=function(e,n,t){return this.each(function(o,i){if(!(i instanceof Window))throw new Error("postMessage can only be sent to a window");r.postMessage(e,n,i,t)}),this},r.event.special.message={add:function(e){var r=e.handler;e.handler=function(e,n,t){return e.data=e.originalEvent?e.originalEvent.data:n,e.origin=e.originalEvent?e.originalEvent.origin:t,r.call(this,e,e.data,e.origin)}}};var a=function(){if(!e._jqueryPostMessagePolyfillPath)throw new Error("Must configure jquery.postMessage() with window._jqueryPostMessagePolyfillPath for IE7 support. Should be '/root-relative-path-on-my-server/postmessage.htm'");return e._jqueryPostMessagePolyfillPath}}(window,jQuery);